<!DOCTYPE html>
<html data-bs-theme="light" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>CycleAnywhere</title>
    <meta name="description" content="Find your local bike shop for new bikes and servicing.">
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Cabin:700&amp;display=swap">
    <link rel="stylesheet" href="assets/fonts/font-awesome.min.css">
</head>


<body id="page-top" data-bs-spy="scroll" data-bs-target="#mainNav" data-bs-offset="77">
    <nav class="navbar navbar-expand-md fixed-top navbar-light" id="mainNav">
        <div class="container"><a class="navbar-brand" href="#">CycleAnywhere</a><button data-bs-toggle="collapse"
                class="navbar-toggler navbar-toggler-right" data-bs-target="#navbarResponsive" type="button"
                aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation" value="Menu"><i
                    class="fa fa-bars"></i></button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item nav-link"><a class="nav-link active" href="#about">About</a></li>
                    <li class="nav-item nav-link"><a class="nav-link" href="#map">Map</a></li>
                    <li class="nav-item nav-link"><a class="nav-link" href="#contact">contact</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <header class="masthead" style="background-image:url('assets/img/bike.jpg');">
        <div class="intro-body">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 mx-auto">
                        <h1 class="brand-heading">CycleAnywhere</h1>
                        <p class="intro-text">Find your local cycle shop for bikes and bike servicing.<br>Created with BristolOpenData</p>
                        <a class="btn btn-link btn-circle" role="button" href="#about"><i
                                class="fa fa-angle-double-down animated"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!--about section of website-->
    <section class="text-center content-section" id="about">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <h2>About CycleAnywhere</h2>
                    <p>Cycle Anywhere is a user-friendly website designed to cater to the needs of cycling enthusiasts
                        and riders of all levels who are looking to explore new areas and find nearby cycle shops with
                        ease. This platform offers a variety of features and functionalities to make your cycling
                        experience more enjoyable and convenient.</p>
                </div>
            </div>
        </div>
    </section>
    <!--section with map not properly integrated atm-->
    <section id="map" style="height: 500px; background-image:url('assets/img/road.jpg');">
        <div class="container">
            <div class="row">
                <div class="map-clean"><iframe allowfullscreen="" frameborder="0" src="https://arcg.is/m0r49"
                        width="100%" height="450" style="margin: 20px;"></iframe></div>
            </div>
        </div>
    </section>

    <!--Section to display table-->
    <section class="text-center content-section" id="table" style="height: 900px">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <h2>Table Data from Database</h2>
                    <table id="data-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Address</th>
                                <th>Description</th>
                                <th>Website</th>
                                <th>Number</th>
                                <th>Services</th>
                                <th>Area</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Data will be inserted here using JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>

    <script>import emailjs from 'emailjs-com'</script>
    <section class="text-center content-section" id="contact">
        <script src="https://smtpjs.com/v3/smtp.js"></script>
        <video  id="background-video">
            <source src="assets/video/blacktopo.mp4" type="video/mp4">
        </video>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <h2>Contact</h2>
                    <form onSubmit={sendEmail} id="emailForm">
                        <div class="form-group">
                            <label for="name">Full name:</label>
                            <input type="text" class="form-control" id="name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email address:</label>
                            <input type="email" class="form-control" id="email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="subject">Subject:</label>
                            <input type="text" class="form-control" id="subject" name="subject" required>
                        </div>
                        <div class="form-group">
                            <label for="message">Message:</label>
                            <textarea class="form-control" id="message" name="message" rows="5" required></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary" style="margin: 4px;">Send Message</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container text-center">
            <p>Copyright Â©&nbsp;CycleAnywhere 2023</p>
        </div>
    </footer>

    


    <!--Script for contact section to be functional-->
    <script>
        document.getElementById("emailForm").addEventListener("submit", function (e) {
            e.preventDefault();
            sendEmail();
        });

        function sendEmail() {
            var name = document.getElementById("name").value;
            var email = document.getElementById("email").value;
            var subject = document.getElementById("subject").value;
            var message = document.getElementById("message").value;

            // You can use your email sending logic here, e.g., SMTP.js
            emailjs.sendForm('service_jgqmcrf', 'template_hajzas6', {
                name: name,
                email: email,
                subject: subject,
                message: message
            }, 'frYMEZHApy2ByW99C').then(function (res) {
                console.log(res);
            }).catch(function (err) {
                console.log(err);
            });
        }
    </script>

    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/grayscale.js"></script>

    <!--Doesn't work-->
    <script>
        // Use JavaScript to fetch data and populate the table
        fetch('/getdata') // Replace this URL with the appropriate endpoint
            .then(response => response.json())
            .then(data => {
                const table = document.getElementById('data-table');
                const tbody = table.querySelector('tbody');
                
                data.forEach(item => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${item.id}</td>
                        <td>${item.name}</td>
                        <td>${item.description}</td>
                    `;
                    tbody.appendChild(row);
                });
            });
    </script>
</body>

</html>